<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erken KayÄ±t Randevu Sistemi</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary:#2563eb;--primary-dark:#1d4ed8;--primary-soft:#dbeafe;
            --text-dark:#1e293b;--text-muted:#64748b;--bg-body:#f0f5ff;
            --bg-card:#fff;--border-light:#e2e8f0;
            --success-bg:#d1fae5;--success-text:#065f46;
            --error-bg:#fee2e2;--error-text:#991b1b;
            --shadow-soft:0 10px 30px -5px rgba(37,99,235,.1),0 4px 10px -3px rgba(0,0,0,.05);
        }

        body{
            font-family:'Inter',sans-serif;
            background:linear-gradient(to bottom right,#f0f5ff,#e0eaff);
            display:flex;justify-content:center;align-items:center;
            min-height:100vh;margin:0;padding:20px;color:var(--text-dark)
        }

        .container{
            background:#fff;padding:40px;border-radius:24px;
            box-shadow:var(--shadow-soft);width:100%;max-width:550px
        }

        .logo{max-width:160px;margin:0 auto 25px;display:block}
        h2{text-align:center;font-family:'Poppins',sans-serif;margin-bottom:30px}

        .form-group{margin-bottom:22px}
        label{font-weight:600;margin-bottom:8px;display:block}

        input,select{
            width:100%;padding:14px;border:2px solid var(--border-light);
            border-radius:12px;background:#f8fafc;font-size:15px
        }

        input:focus,select:focus{
            border-color:var(--primary);
            box-shadow:0 0 0 4px var(--primary-soft);
            outline:none;background:#fff
        }

        .flex-group{display:flex;gap:15px}
        .flex-group>div{flex:1}

        .room-container{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(90px,1fr));
            gap:12px
        }

        .room-card{
            border:2px solid var(--border-light);
            border-radius:12px;padding:14px;
            text-align:center;cursor:pointer;
            font-weight:600;color:var(--text-muted)
        }

        .room-card.selected{
            background:linear-gradient(135deg,var(--primary),var(--primary-dark));
            color:#fff;border-color:transparent
        }

        .hidden-room{display:none!important}

        button{
            width:100%;padding:18px;border:none;
            background:linear-gradient(135deg,var(--primary),var(--primary-dark));
            color:#fff;font-size:17px;font-weight:600;
            border-radius:14px;cursor:pointer;margin-top:10px
        }

        button:disabled{background:#e5e7eb;color:#94a3b8}

        #statusMessage{
            display:none;margin-top:20px;
            padding:14px;border-radius:10px;font-weight:600;text-align:center
        }

        .success{background:var(--success-bg);color:var(--success-text)}
        .error{background:var(--error-bg);color:var(--error-text)}

        #closedDayMessage{
            display:none;
            background:#fee2e2;
            color:#991b1b;
            padding:12px;
            border-radius:8px;
            text-align:center;
            margin-bottom:20px;
            font-weight:600
        }
    </style>
</head>

<body>
<div class="container">
    <img src="https://i.hizliresim.com/6eldhh1.png" class="logo">
    <h2>Erken KayÄ±t Randevusu</h2>

    <form id="appointmentForm">

        <div class="form-group">
            <label>Veli AdÄ± SoyadÄ±</label>
            <input name="veliAdiSoyadi" required>
        </div>

        <div class="form-group">
            <label>Ã–ÄŸrenci AdÄ± SoyadÄ±</label>
            <input name="ogrenciAdiSoyadi" required>
        </div>

        <div class="form-group flex-group">
            <div>
                <label>Ã–ÄŸrenci SÄ±nÄ±fÄ±</label>
                <select name="ogrenciSinifi" required>
                    <option value="">SeÃ§iniz</option>
                    <option>Anaokulu</option><option>1. SÄ±nÄ±f</option>
                    <option>2. SÄ±nÄ±f</option><option>3. SÄ±nÄ±f</option>
                    <option>4. SÄ±nÄ±f</option><option>5. SÄ±nÄ±f</option>
                    <option>6. SÄ±nÄ±f</option><option>7. SÄ±nÄ±f</option>
                    <option>8. SÄ±nÄ±f</option>
                </select>
            </div>
            <div>
                <label>Telefon</label>
                <input name="telefon" required>
            </div>
        </div>

        <div class="form-group">
            <label>GÃ¶rÃ¼ÅŸme Tarihi</label>
            <input type="date" id="randevuTarihi" name="randevuTarihi" required>
        </div>

        <div id="closedDayMessage">
            âš ï¸ 28 AralÄ±k Pazar gÃ¼nÃ¼ randevu sistemimiz kapalÄ±dÄ±r.
        </div>

        <div class="form-group">
            <label>GÃ¶rÃ¼ÅŸme OdasÄ±</label>
            <div class="room-container">
                <div class="room-card" onclick="selectRoom('Manchester',this)">Manchester</div>
                <div class="room-card" onclick="selectRoom('Liverpool',this)">Liverpool</div>
                <div class="room-card" onclick="selectRoom('Cambridge',this)">Cambridge</div>
                <div class="room-card" onclick="selectRoom('Oxford',this)">Oxford</div>
            </div>
            <input type="hidden" id="secilenOda" name="secilenOda">
        </div>

        <div class="form-group">
            <label>Randevu Saati</label>
            <select id="randevuSaati" name="randevuSaati" disabled required>
                <option>Ã–nce Tarih ve Oda SeÃ§iniz</option>
            </select>
        </div>

        <button id="submitButton">Randevuyu Onayla</button>
        <div id="statusMessage"></div>
    </form>
</div>

<script>
const SCRIPT_URL='https://script.google.com/macros/s/AKfycbwk64x7hI7AoRAcv-rXDOF3nrcA9JsXM4vQJ6F_QV2ScEbGdN10WVTnfFxP9iBDg1qKcA/exec';

const closedDates=['2025-12-21','2025-12-28']; // ğŸ”’ 28 ARALIK KAPALI
const openSundays=['2025-12-14'];             // âœ… SADECE 14 ARALIK AÃ‡IK

const dateInput=document.getElementById('randevuTarihi');
const roomContainer=document.querySelector('.room-container');
const closedMsg=document.getElementById('closedDayMessage');
const timeSelect=document.getElementById('randevuSaati');
const roomInput=document.getElementById('secilenOda');

dateInput.addEventListener('change',()=>{
    const date=dateInput.value;
    timeSelect.disabled=true;
    timeSelect.innerHTML='<option>Ã–nce Tarih ve Oda SeÃ§iniz</option>';
    roomInput.value='';
    document.querySelectorAll('.room-card').forEach(r=>r.classList.remove('selected'));

    if(closedDates.includes(date)){
        closedMsg.style.display='block';
        roomContainer.style.pointerEvents='none';
        roomContainer.style.opacity='0.5';
        return;
    }

    closedMsg.style.display='none';
    roomContainer.style.pointerEvents='auto';
    roomContainer.style.opacity='1';
});

function selectRoom(room,el){
    if(!dateInput.value)return;
    document.querySelectorAll('.room-card').forEach(r=>r.classList.remove('selected'));
    el.classList.add('selected');
    roomInput.value=room;

    timeSelect.innerHTML='';
    for(let h=9;h<=17;h++){
        for(let m=0;m<60;m+=20){
            if(h===17 && m>0)continue;
            const t=`${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}`;
            const o=document.createElement('option');
            o.value=t;o.textContent=t;
            timeSelect.appendChild(o);
        }
    }
    timeSelect.disabled=false;
}
</script>
</body>
</html>
